---
import RecipeCard from "./RecipeCard.astro";

export interface Props {
  recipes: any[];
}

const { recipes } = Astro.props;
---

<div class="recipes-grid">
  {
    recipes.map((recipe, index) => (
      <RecipeCard
        recipe={recipe}
        variant={index === 0 ? "featured" : "standard"}
        index={index}
      />
    ))
  }
</div>

<style>
  .recipes-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin-bottom: 3rem;
  }

  @media (max-width: 1024px) {
    .recipes-grid {
      grid-template-columns: 1fr;
      gap: 1.75rem;
    }
  }

  @media (max-width: 768px) {
    .recipes-grid {
      gap: 1.5rem;
    }
  }
</style>

<script>
  const recipes = document.querySelectorAll(".recipe-card");

  // Hide draft recipes by default
  recipes.forEach((recipe) => {
    const recipeEl = recipe as HTMLElement;
    const isDraft = recipeEl.dataset.draft === "true";

    if (isDraft) {
      recipeEl.style.display = "none";
    }
  });
</script>
